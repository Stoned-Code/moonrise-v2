<!DOCTYPE html>>
<html lang="eng">
    <head>
        <script>
            async function getlocation()
            {
                if ("geolocation" in navigator)
                {
                    console.log("Geolocation is available!");
                    navigator.geolocation.getCurrentPosition(async function(position)
                    {
                        let lat = position.coords.latitude;
                        let long = position.coords.longitude;

                        document.getElementById("latitude").textContent = lat;
                        document.getElementById("longitude").textContent = long;
                        console.log(position.coords);

                        let data = { lat, long };
                        let options = {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(data)
                        };

                        let response = await fetch('/moonriseapi', options);
                        let json = await response.json();

                        console.log(json);
                    });
                }

                else
                {
                    console.log("Geolocation is not available...");
                }
            }

        </script>
    </head>
    <body>
        <form id="moonriseform">
            Display Name: <input type="text", id="dname"><br>
            User Id: <input type="text", id="UID"><br>
            Moonrise Key: <input type="text", id="MK"><br>
            Premium User: <input type="checkbox", id="PU"><br>
            Lewd User: <input type="checkbox", id="LU"><br>
        </form>

        <button style:"font-size: 500;" onclick="adduser()">Submit</button>

        <script>
            async function adduser()
            {
                let x = document.getElementById("moonriseform").value;
                let userInfo = {DisplayName:document.getElementById("dname").value, UserId:document.getElementById("UID").value, MoonriseKey:document.getElementById("MK").value, Premium:document.getElementById("PU").checked, Lewd:document.getElementById("LU").checked};
 
                let options = {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(userInfo)
                };

                let response = await fetch('https://moonrise-sc.loca.lt/moonriseapi', options);
                let json = await response.json();
                console.log(json);
            }
        </script>
    </body>
</html>